var data: portfolioItem[] = [];

interface portfolioEntry {
  imageUrl: string;
  title: string;
}

class portfolioItem {
  imageUrl: string;
  title: string;

  constructor(image: string, title: string) {
    this.imageUrl = image;
    this.title = title;
  }
}

data.push(new portfolioItem("../../portfolio_pics/1.jpg", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/2.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/3.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/4.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/5.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/6.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/7.jpg", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/8.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/9.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/10.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/12.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/14.jpg", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/15.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/19.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/29.jpg", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/27.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/22.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/23.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/26.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/25.jpg", "Falmouth"));

data.push(new portfolioItem("../../portfolio_pics/30.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/32.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/33.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/34.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/37.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/40.jpg", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/43.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/49.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/50.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/72.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/82.jpg", "Falmouth"));

data.push(new portfolioItem("../../portfolio_pics/111.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/122.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/222.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/433.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/444.jpg", "Falmouth"));

data.push(new portfolioItem("../../portfolio_pics/chunnel.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/chunnel1.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/chunnel2.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/CNV00037.JPG", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/face.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/french.png", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/french3.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/french4.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/french5.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/hannover.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/hannover1.png", "Falmouth"));

data.push(new portfolioItem("../../portfolio_pics/hannover2.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/hannover3.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/hannover4.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/hannover5.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/hannover6.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/happyhour.jpg", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/HOME.gif", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/img031.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/img034.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/jack.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/jack1.png", "Falmouth"));

data.push(new portfolioItem("../../portfolio_pics/jack3.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/load.gif", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/NTS.jpg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/poster.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/poster1.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/poster2.png", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/poster4.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/poster5.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/poster6.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/poster13.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/puerto.png", "Falmouth"));

data.push(new portfolioItem("../../portfolio_pics/puerto1.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/puerto2.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/puerto3.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/puerto4.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/Scan 2.jpeg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/Scan 3.jpeg", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/Scan 4.jpeg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/Scan 11.jpeg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/Scan 12.jpeg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/Scan.jpeg", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/taboo.png", "Falmouth"));

data.push(new portfolioItem("../../portfolio_pics/taboo1.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/taboo2.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/taboo5.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/tbilisi.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/tbilisi2.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/tbilisi3.png", "Barcelona"));
data.push(new portfolioItem("../../portfolio_pics/tbilisi4.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/tbilisi5.png", "Falmouth"));
data.push(new portfolioItem("../../portfolio_pics/tbilisi6.png", "Falmouth"));

const addToPage = (data: portfolioEntry) => {
  let html = `
  <div class="portfolio-item">
    <img src="${data.imageUrl}"/>
  </div>`;
  var box: HTMLElement = document.getElementById("container");
  box.innerHTML += html;
};

data.forEach(element => {
  addToPage(element);
});

window.onscroll = function() {
  scrollFunction();
};

function scrollFunction() {
  if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
    document.getElementById("main-info").style.marginTop = "-50px";
  } else {
    document.getElementById("main-info").style.marginTop = "0px";
  }
}

var myDivs = document.getElementsByClassName("portfolio-item");

// myDivs[0].addEventListener("click", function() {
//   myDivs[0].style.filter = "unset";
// });
// console.log(myDivs);

// Object.entries(myDivs).map(object => {
//   object[1].addEventListener("mouseenter", function() {
//     this.style.filter = "unset";
//   });
// });

// Object.entries(myDivs).map(object => {
//   console.log(object[1].scrollTop);
//   console.log(object[1].scrollLeft);
// });

const targets = document.querySelectorAll(".portfolio-item");

const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.intersectionRatio > 0) {
      entry.target.classList.toggle("add-color");
    } else {
      entry.target.classList.toggle("add-color");
    }
  });
});

// targets.forEach(image => {
//   observer.observe(image);
// });

Object.entries(targets).map(object => {
  observer.observe(object[1]);
});

// const lazyLoad = target => {
//   const io = new IntersectionObserver((entries, observer) => {
//     entries.forEach(entry => {
//       console.log("this works");

//       if (entry.isIntersecting) {
//         const img = entry.target;
//         const src = img.getAttribute("data-lazy");

//         img.setAttribute("src", src);
//         img.classList.add("addColor");

//         observer.disconnect();
//       }
//     });
//   });
//   io.observe(target);
// };
// targets.forEach(lazyLoad);

var firstIcon = document.getElementsByClassName("icons-show-github")[0];
let myicon = document.getElementById("github-icon");
let myhovericon = document.getElementById("icons-hover-github");

var secondIcon = document.getElementsByClassName("icons-show-instagram")[0];
let mysecondicon = document.getElementById("instagram-icon");
let mysecondhovericon = document.getElementById("icons-hover-instagram");

var thirdIcon = document.getElementsByClassName("icons-show-linkedin")[0];
let mythirdicon = document.getElementById("linkedin-icon");
let mythirdhovericon = document.getElementById("icons-hover-linkedin");

// firstIcon.addEventListener("mouseover", function() {
//   myicon.style.marginTop = "-50px";
//   myhovericon.style.marginTop = "-50px";
// });

// firstIcon.addEventListener("mouseleave", function() {
//   myicon.style.marginTop = "0px";
//   myhovericon.style.marginTop = "50px";
// });

const navBarEffect = (container, child, target) => {
  container.addEventListener("mouseover", function() {
    child.style.marginTop = "-50px";
    target.style.marginTop = "-50px";
  });
  container.addEventListener("mouseleave", function() {
    child.style.marginTop = "0px";
    target.style.marginTop = "50px";
  });
};

navBarEffect(firstIcon, myicon, myhovericon);
navBarEffect(secondIcon, mysecondicon, mysecondhovericon);
navBarEffect(thirdIcon, mythirdicon, mythirdhovericon);
